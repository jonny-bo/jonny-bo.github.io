<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="symfony," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="resful api bundle for symfonyMethod design: index: list of models view: return the details of a model create: create a new model update: update an existing model delete: delete an existing model optio">
<meta name="keywords" content="symfony">
<meta property="og:type" content="article">
<meta property="og:title" content="symfony">
<meta property="og:url" content="http://yoursite.com/2017/08/10/symfony/index.html">
<meta property="og:site_name" content="技术宅の二次元">
<meta property="og:description" content="resful api bundle for symfonyMethod design: index: list of models view: return the details of a model create: create a new model update: update an existing model delete: delete an existing model optio">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-08-10T06:42:07.185Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="symfony">
<meta name="twitter:description" content="resful api bundle for symfonyMethod design: index: list of models view: return the details of a model create: create a new model update: update an existing model delete: delete an existing model optio">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"right","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/08/10/symfony/"/>





  <title>symfony | 技术宅の二次元</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">技术宅の二次元</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/08/10/symfony/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="jonny">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/jonny.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="技术宅の二次元">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">symfony</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-10T14:40:08+08:00">
                2017-08-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2017/08/10/symfony/" class="leancloud_visitors" data-flag-title="symfony">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="resful-api-bundle-for-symfony"><a href="#resful-api-bundle-for-symfony" class="headerlink" title="resful api bundle for symfony"></a>resful api bundle for symfony</h1><h2 id="Method-design"><a href="#Method-design" class="headerlink" title="Method design:"></a>Method design:</h2><ul>
<li><code>index</code>: list of models</li>
<li><code>view</code>: return the details of a model</li>
<li><code>create</code>: create a new model</li>
<li><code>update</code>: update an existing model</li>
<li><code>delete</code>: delete an existing model</li>
<li><code>options</code>: return the allowed HTTP methods<h2 id="Endpoints"><a href="#Endpoints" class="headerlink" title="Endpoints:"></a>Endpoints:</h2></li>
</ul>
<p>An Endpoint is a URL within your API which points to a specific Resource or a Collection of Resources.<br>If you were building a fictional API to represent several different Zoo’s, each containing many Animals (with an animal belonging to exactly one Zoo), employees (who can work at multiple zoos) and keeping track of the species of each animal, you might have the following endpoints:</p>
<ul>
<li><a href="https://api.example.com/v1/zoos" target="_blank" rel="external">https://api.example.com/v1/zoos</a></li>
<li><a href="https://api.example.com/v1/animals" target="_blank" rel="external">https://api.example.com/v1/animals</a></li>
<li><a href="https://api.example.com/v1/animal_types" target="_blank" rel="external">https://api.example.com/v1/animal_types</a></li>
<li><a href="https://api.example.com/v1/employees" target="_blank" rel="external">https://api.example.com/v1/employees</a></li>
</ul>
<p>When referring to what each endpoint can do, you’ll want to list valid HTTP Verb and Endpoint combinations. For example, here’s a semi-comprehensive list of actions one can perform with our fictional API. Notice that I’ve preceded each endpoint with the HTTP Verb, as this is the same notation used within an HTTP Request header</p>
<ul>
<li><code>GET /zoos</code>: List all Zoos (ID and Name, not too much detail)</li>
<li><code>POST /zoos</code>: Create a new Zoo</li>
<li><code>GET /zoos/ZID</code>: Retrieve an entire Zoo object</li>
<li><code>PUT /zoos/ZID</code>: Update a Zoo (entire object)</li>
<li><code>PATCH /zoos/ZID</code>: Update a Zoo (partial object)</li>
<li><code>DELETE /zoos/ZID</code>: Delete a Zoo</li>
<li><code>GET /zoos/ZID/animals</code>: Retrieve a listing of Animals (ID and Name).</li>
<li><code>GET /animals</code>: List all Animals (ID and Name).</li>
<li><code>POST /animals</code>: Create a new Animal</li>
<li><code>GET /animals/AID</code>: Retrieve an Animal object</li>
<li><code>PUT /animals/AID</code>: Update an Animal (entire object)</li>
<li><code>PATCH /animals/AID</code>: Update an Animal (partial object)</li>
<li><code>GET /animal_types</code>: Retrieve a listing (ID and Name) of all Animal Types</li>
<li><code>GET /animal_types/ATID</code>: Retrieve an entire Animal Type object</li>
<li><code>GET /employees</code>: Retrieve an entire list of Employees</li>
<li><code>GET /employees/EID</code>: Retreive a specific Employee</li>
<li><code>GET /zoos/ZID/employees</code>: Retrieve a listing of Employees (ID and Name) who work at this Zoo</li>
<li><code>POST /employees</code>: Create a new Employee</li>
<li><code>POST /zoos/ZID/employees</code>: Hire an Employee at a specific Zoo</li>
<li><code>DELETE /zoos/ZID/employees/EID</code>: Fire an Employee from a specific Zoo</li>
</ul>
<h2 id="Resourse"><a href="#Resourse" class="headerlink" title="Resourse"></a>Resourse</h2><p><code>GET: api/v2/users/1</code>   —&gt;  <code>UsersResourse:view</code>  —&gt;  <code>return json {user}</code><br><code>POST: api/v2/users/1</code>   —&gt;  <code>UsersResourse:update</code>  —&gt;  <code>return jsonEndpoints {user}</code></p>
<h2 id="DELETE-api-v2-users-1-—-gt-UsersResourse-delete-—-gt-return-json-bool"><a href="#DELETE-api-v2-users-1-—-gt-UsersResourse-delete-—-gt-return-json-bool" class="headerlink" title="DELETE: api/v2/users/1   —&gt;  UsersResourse:delete  —&gt;  return json {bool}"></a><code>DELETE: api/v2/users/1</code>   —&gt;  <code>UsersResourse:delete</code>  —&gt;  <code>return json {bool}</code></h2><p><code>GET: api/v2/users</code>   —&gt;  <code>UsersResourse:index</code>  —&gt;  <code>return json {userList}</code><br><code>POST: api/v2/users</code>   —&gt;  <code>UsersResourse:create</code>  —&gt;  <code>return json {user}</code><br><code>OPTIONS: api/v2/users</code> —&gt; <code>UsersResourse:options</code> —&gt;  <code>return json {options}</code></p>
<h2 id="PathParse"><a href="#PathParse" class="headerlink" title="PathParse"></a>PathParse</h2>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/symfony/" rel="tag"># symfony</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/07/21/composer报proc-open-错误解决方法/" rel="next" title="composer报proc_open()错误解决方法">
                <i class="fa fa-chevron-left"></i> composer报proc_open()错误解决方法
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/jonny.jpg"
               alt="jonny" />
          <p class="site-author-name" itemprop="name">jonny</p>
           
              <p class="site-description motion-element" itemprop="description">jonny&波波</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#resful-api-bundle-for-symfony"><span class="nav-number">1.</span> <span class="nav-text">resful api bundle for symfony</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Method-design"><span class="nav-number">1.1.</span> <span class="nav-text">Method design:</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Endpoints"><span class="nav-number">1.2.</span> <span class="nav-text">Endpoints:</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Resourse"><span class="nav-number">1.3.</span> <span class="nav-text">Resourse</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DELETE-api-v2-users-1-—-gt-UsersResourse-delete-—-gt-return-json-bool"><span class="nav-number">1.4.</span> <span class="nav-text">DELETE: api/v2/users/1   —>  UsersResourse:delete  —>  return json {bool}</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PathParse"><span class="nav-number">1.5.</span> <span class="nav-text">PathParse</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">jonny</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  








  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("HEbWOzfVV9Knw8Frhv1zvrh1-gzGzoHsz", "wg4RJuleiMUUtI6PJvn4CDkG");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  

  

  

</body>
</html>
